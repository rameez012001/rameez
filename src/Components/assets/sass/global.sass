@use "sass:map"
// Variables
$font-stack: -apple-system, BlinkMacSystemFont, Roboto, sans-serif
$black: #000,
$white: #fff,

$light-theme: (
    backgroundcolor: #fff,
    textcolor: #000,
    primary: #555,
    header: #2b6cc2,
    link: #6c757d,
    list-marker: #999,
    skeleton-gradient-start: #eee,
    skeleton-gradient-end: #ddd,
    skeleton-bg: #f9f9f9,
    border: #eaeaea,
    successbg: #d4edda,
    successtext: #155724,
    successborder: #28a745,
    errorbg: #f8d7da,
    errortext: #721c24,
    errorborder: #dc3545
)
$dark-theme: (
    backgroundcolor: #000,
    textcolor: #fff,
    primary: #ccc,
    header: #90caf9,
    link: #adb5bd,
    list-marker: #777,
    skeleton-gradient-start: #333,
    skeleton-gradient-end: #444,
    skeleton-bg: #222,
    border: #444,
    successbg: #1e2a1e,
    successtext: #c6f6c6,
    successborder: #3c9d3c,
    errorbg: #2a1d1d,
    errortext: #ffb3b3,
    errorborder: #ff6b6b
)

@mixin theme($map)
    --bg-color: #{map.get($map, backgroundcolor)}
    --text-color: #{map.get($map, textcolor)}
    --primary-color: #{map.get($map, primary)}
    --header-color: #{map.get($map, header)}
    --link-color: #{map.get($map, link)}
    --list-marker-color: #{map.get($map, list-marker)}
    --skeleton-gradient-start: #{map.get($map, skeleton-gradient-start)}
    --skeleton-gradient-end: #{map.get($map, skeleton-gradient-end)}
    --skeleton-bg: #{map.get($map, skeleton-bg)}
    --border-color: #{map.get($map, border)}
    --success-bg: #{map.get($map, successbg)}
    --success-text: #{map.get($map, successtext)}
    --success-border: #{map.get($map, successborder)}
    --error-bg: #{map.get($map, errorbg)}
    --error-text: #{map.get($map, errortext)}
    --error-border: #{map.get($map, errorborder)}
    --link-color-dark: darken(var(--link-color), 20%)
    

body.theme--light
  @include theme($light-theme)

body.theme--dark
  @include theme($dark-theme)

// Mixins
@mixin clearfix
    &::after
        content: ""
        display: table
        clear: both

// Reset
*,
*::before,
*::after
    box-sizing: border-box
    margin: 0
    padding: 0

html
    font-family: sans-serif
    -ms-text-size-adjust: 100%
    -webkit-text-size-adjust: 100%

body
    font-family: $font-stack
    color: var(--primary-color)
    background: var(--bg-color)
    line-height: 1.6
    max-width: 600px
    margin: 0 auto
    padding: 0 5px
    @media screen and (max-width: 600px)
        padding: 0 10px

// Links
a
    color: var(--link-color)
    text-decoration: none
    &:hover,
    &:focus
        text-decoration: underline
        outline: none
        color: var(--link-color-dark)

// Headings
h1, h2, h3, h4, h5, h6
    font-weight: bold
    margin-bottom: 1rem

// Lists
ul, ol
    margin-left: 2rem

// Images
img
    max-width: 100%
    height: auto
    display: block
button
    cursor: pointer
// Utility classes
.clearfix
    @include clearfix

.paragraph
    margin-bottom: 10px
    @media screen and (max-width: 600px)
        font-size: 14px

.date,#quote
    color: var(--list-marker-color)
    font-size: 14px
    @media screen and (max-width: 600px)
        font-size: 12px

.skeleton-container
    margin: 30px 0
    @media screen and (max-width: 600px)
        margin: 20px 0
.skeleton-card
    height: 20px
    margin: 10px 0
    background: linear-gradient(90deg, var(--skeleton-gradient-start) 25%, var(--skeleton-gradient-end) 50%, var(--skeleton-gradient-start) 75%)
    background-size: 200% 100%
    animation: shimmer 3s infinite
    border-radius: 4px
    @media screen and (max-width: 600px)
        height: 15px
        margin: 5px 0
    @keyframes shimmer
        from
            background-position: 200% 0
        to
            background-position: -200% 0

.back-link-container
    margin-bottom: 20px
    .back-link
        display: inline-flex
        align-items: center
        font-size: 14px
        font-weight: 500
        text-decoration: none
        &::before
            content: "Â«"
            margin-right: 3px
            font-size: 14px
    @media screen and (max-width: 600px)
        margin-bottom: 10px

#quote
    font-style: italic
    max-width: 400px
    text-align: center
    margin: 20px auto
    padding: 10px
    border-left: 4px solid var(--header-color)
    background-color: var(--skeleton-bg)
    @media screen and (max-width: 600px)
        padding: 5px

header
    border-bottom: 1px solid var(--border-color)
    padding-bottom: 15px
    margin: 20px 0
    @media screen and (max-width: 600px)
        margin: 10px 0
    .header-content
        display: flex
        justify-content: space-between
        align-items: center
        #name
            margin: 0
        a
            color: var(--header-color)
            text-decoration: none
            font-size: 24px
            font-weight: bold
            @media screen and (max-width: 600px)
                font-size: 20px

#twitter-btn
    position: relative
    box-sizing: border-box
    padding: 8px 12px
    background-color: $black
    color: $white
    border: 1px solid var(--text-color)
    border-radius: 9999px
    font-weight: 500
    cursor: pointer
    position: relative
    font-size: 14px
    text-decoration: none
    @media screen and (max-width: 600px)
        padding: 6px 10px
        font-size: 11px
    #logo
        position: relative
        top: 2px
        display: inline-block
        width: 16px
        height: 16px
        background: transparent 0 0 no-repeat
        background-image: none
        background-image: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3Csvg viewBox='5 0 32 32' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='32' height='32' fill='none'/%3E%3Cpath d='M17.9686 14.1623L26.7065 4H24.6358L17.0488 12.8238L10.9891 4H4L13.1634 17.3432L4 28H6.07069L14.0827 18.6817L20.4822 28H27.4714L17.9681 14.1623H17.9686ZM15.1326 17.4607L14.2041 16.132L6.81679 5.55961H9.99723L15.9589 14.0919L16.8873 15.4206L24.6368 26.5113H21.4564L15.1326 17.4612V17.4607Z' fill='white'/%3E%3C/svg%3E%0A")
        @media screen and (max-width: 600px)
            width: 12px
            height: 12px
            top: 1px

.navigation
    display: flex
    justify-content: space-between
    .nav-actions
        padding: 10px 0
    #logoutButton
        font-weight: bold
        padding: 8px .4rem
        border-radius: 4px
.nav-links
    display: flex
    gap: 20px
    list-style: none
    margin: 0
    padding: 0
    align-items: center
    li
        font-size: 14px
        a
            &:hover,
            &:focus
                text-decoration: none
    @media screen and (max-width: 600px)
        gap: 15px

.content-container
    border-bottom: 1px solid var(--border-color)
    padding-bottom: 20px
    margin-bottom: 20px
    &:last-child
        margin-bottom: 0
        border-bottom: none
    ul
        li
            list-style: inside
.content-header
    h1
        color: var(--header-color)
        font-size: 20px
        font-weight: 400
        @media screen and (max-width: 600px)
            font-size: 18px

.content
    a
        display: block
        text-decoration: underline
        margin-bottom: 10px
.theme-toggler
    display: flex
    justify-content: flex-end
    @media screen and ( max-width: 600px )
        padding: 10px
.theme-toggle
    button
        padding: 0.5rem 1rem
        border-radius: 1rem
        border: 1px solid var(--border-color)
        background: var(--skeleton-bg)
        color: var(--primary-color)
        box-shadow: 0 2px 4px rgba(0,0,0,0.1)
        cursor: pointer
        transition: color 0.3s ease
        @media screen and (max-width: 600px)
            padding: 0.4rem 0.8rem
            font-size: 14px
.project-item
    margin: 10px 0
    a
        display: inline            
    @media screen and (max-width: 600px)
        font-size: 14px
        
footer
    border-top: 1px solid var(--border-color)
    display: flex
    justify-content: center
    align-items: center    
    font-size: 12px
    padding: 10px 0
    p
        color: var(--list-marker-color)

.loginForm, .postBlog
    margin-top: 20px
    button
        background-color: var(--skeleton-bg)
        color: var(--text-color)
        width: 100%
        font-weight: bold
        padding: 0.6rem 1.2rem
        border: 1px solid var(--border-color)
        border-radius: 4px
        cursor: pointer
        &:hover
            opacity: 0.9
        &:focus-visible
            background-color: var(--skeleton-gradient-end)
.loginForm
    display: flex
    flex-direction: column
    justify-content: center
    align-items: center
    min-height: 50vh
    input,textarea,button
        max-width: 200px
input,textarea
    display: block
    width: 100%
    margin-bottom: 15px
    padding: 10px
    font-size: 16px
    border: 1px solid var(--border-color)
    border-radius: 4px
    outline: none
    background-color: var(--bg-color)
    color: var(--text-color)
    &:focus
      border-color: var(--link-color-dark)

textarea
    min-height: 200px
    resize: vertical
#success-response
    border: 2px solid var(--success-border)
    background-color: var(--success-bg)
    color: var(--success-text)
#error-response,#deleteButton, #logoutButton
    border: 2px solid var(--error-border)
    background-color: var(--error-bg)
    color: var(--error-text)
#success-response, #error-response
    font-style: italic
    margin: 20px auto
    max-width: 200px
    padding: 5px
    font-size: 12px
    border-radius: 4px
    font-weight: bold
    animation: fadeScaleIn 0.6s ease-out forwards
    @media screen and (max-width: 600px)
        padding: 5px

@keyframes fadeScaleIn
  0%
    opacity: 0
    transform: scale(0.9)
  60%
    opacity: 1
    transform: scale(1.05)
  100%
    opacity: 1
    transform: scale(1)


#deleteButton
    font-weight: bold
    padding: 0.6rem
    border-radius: 4px